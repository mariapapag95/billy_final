{"ast":null,"code":"var _jsxFileName = \"/Users/admin/billy/front/react/src/components/Dash.js\";\nimport React from 'react';\nimport Post from './Post'; // import Nav  from './Nav'\n\nimport { TabContent, TabPane, Nav, NavItem, NavLink, Card, Button, CardTitle, CardText, Row, Col } from 'reactstrap';\nimport classnames from 'classnames';\nimport PostForm from './PostForm';\nconst url = \"http://127.0.0.1:5000/api/\";\nexport default class Dash extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchAll = () => {\n      fetch(url + 'all').then(blob => blob.json()).then(json => {\n        let allPosts = json;\n        this.setState({\n          allPosts: allPosts\n        });\n      }).then(fetch(\"https://connect.stripe.com/oauth/token\"));\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      activeTab: '1',\n      allPosts: [],\n      payForm: false,\n      postForm: false,\n      amountPaid: undefined,\n      note: '',\n      id: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.fetchAll();\n  }\n\n  pay(id) {\n    console.log(\"pay function fired with this id::\", id);\n    fetch(url + \"bills/\".concat(id)).then(blob => blob.json()).then(json => {\n      let bill = json;\n      this.setState({\n        allPosts: [bill],\n        payForm: true,\n        id: id\n      });\n      console.log(\"this is BILL in pay(id)\", this.state.allPosts);\n    });\n  }\n\n  payBill() {\n    let post = {\n      'amountPaid': this.state.amountPaid,\n      'note': this.state.note\n    };\n    fetch(url + \"bills/\".concat(this.state.id, \"/pay\"), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(post),\n      mode: \"cors\",\n      method: \"post\"\n    });\n  }\n\n  handleInput() {\n    this.setState({\n      amountPaid: document.getElementById('amountPaid').value,\n      note: document.getElementById('note').value\n    }, () => this.payBill());\n  }\n\n  like(id) {\n    console.log(\"LIKE button pressed with this id::\", id);\n  }\n\n  makePost() {\n    this.setState({\n      postForm: !this.state.postForm\n    });\n  }\n\n  toggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  render() {\n    let posts = this.state.allPosts.map((element, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Post, {\n        total: element.total_due || element.amount_paid,\n        user: element.due_by || element.paid_by,\n        company: element.due_to || element.paid_to,\n        time: element.created_on,\n        text: element.caption || element.note,\n        key: i,\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: element.bill_id || element.payment_id,\n        className: element.bill_id === undefined ? \"likebutton\" : \"paybutton\",\n        onClick: () => {\n          element.total_due === undefined ? this.like(element.payment_id) : this.pay(element.bill_id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, element.bill_id === undefined ? \"LIKE\" : \"PAY\"));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      tabs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === '1'\n      }),\n      onClick: () => {\n        this.toggle('1');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Tab1\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === '2'\n      }),\n      onClick: () => {\n        this.toggle('2');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Moar Tabs\"))), React.createElement(TabContent, {\n      activeTab: this.state.activeTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tabId: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Tab 1 Contents\")))), React.createElement(TabPane, {\n      tabId: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Card, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Special Title Treatment\"), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"With supporting text below as a natural lead-in to additional content.\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Go somewhere\"))), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Card, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Special Title Treatment\"), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"With supporting text below as a natural lead-in to additional content.\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Go somewhere\"))))))), React.createElement(\"button\", {\n      className: \"test\",\n      onClick: () => {\n        this.makePost();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"POST YOUR BILL\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(PostForm, {\n      hidden: this.state.postForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, posts), React.createElement(\"div\", {\n      className: \"makepost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\",\n      id: \"amountPaid\",\n      placeholder: \"Enter $ amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"input\",\n      id: \"note\",\n      placeholder: \"add note\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"test\",\n      type: \"submit\",\n      onClick: () => {\n        this.handleInput();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"PAY\")))) // <div className=\"box\">\n    // <Form className=\"box\">\n    // <Form.Group controlId=\"formBasicEmail\">\n    //     <Form.Label>Email address</Form.Label>\n    //     <Form.Control type=\"email\" placeholder=\"Enter email\" />\n    //     <Form.Text className=\"text-muted\">\n    //     We'll never share your email with anyone else.\n    //     </Form.Text>\n    // </Form.Group>\n    // <Form.Group controlId=\"formBasicPassword\">\n    //     <Form.Label>Password</Form.Label>\n    //     <Form.Control type=\"password\" placeholder=\"Password\" />\n    // </Form.Group>\n    // <Form.Group controlId=\"formBasicChecbox\">\n    //     <Form.Check type=\"checkbox\" label=\"Check me out\" />\n    // </Form.Group>\n    // <Button variant=\"primary\" type=\"submit\">\n    //     Submit\n    // </Button>\n    // </Form>\n    // </div>\n    ;\n  }\n\n}","map":{"version":3,"sources":["/Users/admin/billy/front/react/src/components/Dash.js"],"names":["React","Post","TabContent","TabPane","Nav","NavItem","NavLink","Card","Button","CardTitle","CardText","Row","Col","classnames","PostForm","url","Dash","Component","constructor","props","fetchAll","fetch","then","blob","json","allPosts","setState","toggle","bind","state","activeTab","payForm","postForm","amountPaid","undefined","note","id","componentDidMount","pay","console","log","bill","payBill","post","headers","body","JSON","stringify","mode","method","handleInput","document","getElementById","value","like","makePost","tab","render","posts","map","element","i","total_due","amount_paid","due_by","paid_by","due_to","paid_to","created_on","caption","fontWeight","bill_id","payment_id","active"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Post from './Post'\n// import Nav  from './Nav'\nimport { TabContent, TabPane, Nav, NavItem, NavLink, Card, Button, CardTitle, CardText, Row, Col } from 'reactstrap';\nimport classnames from 'classnames';\nimport PostForm from './PostForm';\n\nconst url = `http://127.0.0.1:5000/api/`\n\nexport default class Dash extends React.Component {\n    constructor(props){\n    super(props)\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n        activeTab: '1',\n        allPosts: [],\n        payForm: false,\n        postForm: false,\n        amountPaid: undefined,\n        note: '',\n        id: undefined,\n    }\n}\n\n    fetchAll = () => {\n        fetch(url+'all')\n        .then (blob => blob.json()).then(json => {\n            let allPosts = json\n            this.setState({allPosts : allPosts})\n            })\n        .then (\n            fetch (\"https://connect.stripe.com/oauth/token\")\n        )\n    }\n\n    componentDidMount() {\n        this.fetchAll()\n    }\n\n    pay(id) {\n        console.log(\"pay function fired with this id::\", id)\n        fetch (url+`bills/${id}`)\n        .then (blob => blob.json()).then(json => {\n            let bill = json\n            this.setState({allPosts : [bill], payForm : true, id : id})\n            console.log(\"this is BILL in pay(id)\", this.state.allPosts)\n        })\n    }\n        \n    payBill() {\n            let post = {\n            'amountPaid': this.state.amountPaid, \n            'note': this.state.note,}\n        fetch (url+`bills/${this.state.id}/pay`, {\n            headers: {\"Content-Type\" : \"application/json\"}, \n            body: JSON.stringify(post),\n            mode:\"cors\",\n            method:\"post\"\n        })\n    }\n\n    handleInput() {\n        this.setState({\n            amountPaid: document.getElementById('amountPaid').value,\n            note: document.getElementById('note').value\n        }, ()=>this.payBill())\n    }\n\n    like(id) {\n        console.log(\"LIKE button pressed with this id::\", id)\n    }\n\n    makePost() {\n        this.setState({postForm : !this.state.postForm})\n    }\n\n    toggle(tab) {\n        if (this.state.activeTab !== tab) {\n            this.setState({\n            activeTab: tab\n            });\n        }\n    }\n\n    render () {\n        let posts = this.state.allPosts.map((element, i) => {\n            return <div key={i}>\n            <Post \n            total={element.total_due || element.amount_paid} \n            user={element.due_by || element.paid_by}\n            company={element.due_to || element.paid_to}\n            time={element.created_on}\n            text={element.caption || element.note}\n            key={i}\n            style={{fontWeight :'bold'}}/>\n            <button \n            id={element.bill_id || element.payment_id} \n            className={element.bill_id === undefined ? \"likebutton\" : \"paybutton\"} \n            onClick={()=>{element.total_due === undefined ? this.like(element.payment_id) : this.pay(element.bill_id)}}>\n            {element.bill_id === undefined ? \"LIKE\" : \"PAY\"}\n            </button>\n            </div>\n        })\n        return (\n            <div>\n                {/* <div>\n                <Nav/>\n                </div> */}\n                \n\n                <div>\n                <Nav tabs>\n            <NavItem>\n            <NavLink\n                className={classnames({ active: this.state.activeTab === '1' })}\n                onClick={() => { this.toggle('1'); }}\n                >\n                Tab1\n            </NavLink>\n            </NavItem>\n            <NavItem>\n            <NavLink\n                className={classnames({ active: this.state.activeTab === '2' })}\n                onClick={() => { this.toggle('2'); }}\n                >\n              Moar Tabs\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <TabContent activeTab={this.state.activeTab}>\n          <TabPane tabId=\"1\">\n            <Row>\n              <Col sm=\"12\">\n                <h4>Tab 1 Contents</h4>\n              </Col>\n            </Row>\n          </TabPane>\n          <TabPane tabId=\"2\">\n            <Row>\n              <Col sm=\"6\">\n                <Card body>\n                  <CardTitle>Special Title Treatment</CardTitle>\n                  <CardText>With supporting text below as a natural lead-in to additional content.</CardText>\n                  <Button>Go somewhere</Button>\n                </Card>\n              </Col>\n              <Col sm=\"6\">\n                <Card body>\n                  <CardTitle>Special Title Treatment</CardTitle>\n                  <CardText>With supporting text below as a natural lead-in to additional content.</CardText>\n                  <Button>Go somewhere</Button>\n                </Card>\n              </Col>\n            </Row>\n          </TabPane>\n        </TabContent>\n      </div>\n\n\n\n\n\n\n\n                <button \n                className=\"test\"\n                onClick={()=>{this.makePost()}}>\n                {\"POST YOUR BILL\"}\n                </button>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                <PostForm hidden={this.state.postForm}/>\n                <div>{posts}</div>\n                <div className='makepost'>\n                <form>\n                    <input \n                    className='input'\n                    id='amountPaid'\n                    placeholder='Enter $ amount'>\n                    </input>\n                    <input \n                    className='input'\n                    id='note'\n                    placeholder='add note'>\n                    </input>\n                    <button \n                    className=\"test\"\n                    type=\"submit\"\n                    onClick={()=>{this.handleInput()}}>\n                    PAY\n                    </button>\n                </form>\n            </div>\n                {/* <PayForm hidden={this.state.payForm}/> */}\n            </div>\n            // <div className=\"box\">\n            // <Form className=\"box\">\n            // <Form.Group controlId=\"formBasicEmail\">\n            //     <Form.Label>Email address</Form.Label>\n            //     <Form.Control type=\"email\" placeholder=\"Enter email\" />\n            //     <Form.Text className=\"text-muted\">\n            //     We'll never share your email with anyone else.\n            //     </Form.Text>\n            // </Form.Group>\n\n            // <Form.Group controlId=\"formBasicPassword\">\n            //     <Form.Label>Password</Form.Label>\n            //     <Form.Control type=\"password\" placeholder=\"Password\" />\n            // </Form.Group>\n            // <Form.Group controlId=\"formBasicChecbox\">\n            //     <Form.Check type=\"checkbox\" label=\"Check me out\" />\n            // </Form.Group>\n            // <Button variant=\"primary\" type=\"submit\">\n            //     Submit\n            // </Button>\n            // </Form>\n            // </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}