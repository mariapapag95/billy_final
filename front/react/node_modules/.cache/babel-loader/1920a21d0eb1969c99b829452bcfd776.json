{"ast":null,"code":"var _jsxFileName = \"/Users/admin/billy/front/react/src/components/UserPage.js\";\nimport React from 'react';\nimport Nav from './Nav';\nconst url = \"http://127.0.0.1:5000/user/\";\nexport default class UserPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchAll = username => {\n      fetch(url + \"\".concat(username)).then(blob => blob.json()).then(json => {\n        let allPosts = json;\n        this.setState({\n          allPosts: allPosts\n        });\n      });\n    };\n\n    this.state = {\n      allPosts: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchAll();\n  }\n\n  pay(id) {\n    console.log(\"pay function fired with this id::\", id);\n    fetch(url + \"bills/\".concat(id)).then(blob => blob.json()).then(json => {\n      let bill = json;\n      this.setState({\n        allPosts: [bill],\n        payForm: true,\n        id: id\n      });\n      console.log(\"this is BILL in pay(id)\", this.state.allPosts);\n    });\n  }\n\n  render() {\n    let posts = this.state.allPosts.map((element, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Post, {\n        total: element.total_due || element.amount_paid,\n        user: element.due_by || element.paid_by,\n        company: element.due_to || element.paid_to,\n        time: element.created_on,\n        text: element.caption || element.note,\n        key: i,\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: element.bill_id || element.payment_id,\n        className: element.bill_id === undefined ? \"likebutton\" : \"paybutton\",\n        onClick: () => {\n          fetchAll(element.due_by) || fetachAll(element.paid_by);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, element.bill_id === undefined ? \"LIKE\" : \"PAY\"));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, posts), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/admin/billy/front/react/src/components/UserPage.js"],"names":["React","Nav","url","UserPage","Component","constructor","props","fetchAll","username","fetch","then","blob","json","allPosts","setState","state","componentDidMount","pay","id","console","log","bill","payForm","render","posts","map","element","i","total_due","amount_paid","due_by","paid_by","due_to","paid_to","created_on","caption","note","fontWeight","bill_id","payment_id","undefined","fetachAll"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Nav  from './Nav'\n\nconst url = `http://127.0.0.1:5000/user/`\n\nexport default class UserPage extends React.Component {\n    constructor(props){\n    super(props)\n    this.state = {\n        allPosts: [],\n    }\n}\n\n    fetchAll = (username) => {\n        fetch(url+`${username}`)\n        .then (blob => blob.json()).then(json => {\n            let allPosts = json\n            this.setState({allPosts : allPosts})\n            })\n    }\n\n    componentDidMount() {\n        this.fetchAll()\n    }\n\n    pay(id) {\n        console.log(\"pay function fired with this id::\", id)\n        fetch (url+`bills/${id}`)\n        .then (blob => blob.json()).then(json => {\n            let bill = json\n            this.setState({allPosts : [bill], payForm : true, id : id})\n            console.log(\"this is BILL in pay(id)\", this.state.allPosts)\n        })\n    }\n\n\n    render () {\n        let posts = this.state.allPosts.map((element, i) => {\n            return <div key={i}>\n            <Post \n            total={element.total_due || element.amount_paid} \n            user={element.due_by || element.paid_by}\n            company={element.due_to || element.paid_to}\n            time={element.created_on}\n            text={element.caption || element.note}\n            key={i}\n            style={{fontWeight :'bold'}}/>\n            <button \n            id={element.bill_id || element.payment_id} \n            className={element.bill_id === undefined ? \"likebutton\" : \"paybutton\"} \n            onClick={()=>{fetchAll(element.due_by) || fetachAll(element.paid_by)}}>\n            {element.bill_id === undefined ? \"LIKE\" : \"PAY\"}\n            </button>\n            </div>\n        })\n        return (\n            <div>\n                <div>\n                <Nav/>\n                </div>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                <div>{posts}</div>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}